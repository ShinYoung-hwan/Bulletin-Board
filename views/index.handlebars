<div>
    {{!-- 제목 --}}
    <h1>게시판 프로젝트</h1>

    {{!-- 글쓰기 --}}
    <form method="post">
        <input id="title" name="title" placeholder="새글을 입력해주세요" onclick="showCreateBar()"/>
        <div id="createBar" style="display:none;">
            <textarea id="content" name="content"></textarea>
            <button>글쓰기</button>
        </div>
    </form>

    {{!-- 게시판 리스트 --}}
    <table>
        <thead>
            <tr>
                {{!-- <th>#</th> --}}
                <th>Title</th>
                <th>date</th>
            </tr>
        </thead>
        <tbody>
            {{#each posts}}
            <tr>
                {{!-- <td>{{ id }}</td> --}}
                <td><a href="/detail/{{ id }}">{{ title }}</a></td>
                <td>{{ dateString createdDt }}</td>
            </tr>
            {{/each}}
        </tbody>
    </table>

    {{!-- 검색 --}}
    <div>

        <input type="text" name="search" id="search" value="" placeholder="검색어를 입력해주세요!"/>
        <button onclick="location.href=`/index/?search=${document.getElementById('search').value}`">검색</button>
    </div>

    {{!-- 페이지네이터 --}}
    <div>
        {{#with paginator}}
        <a href="/index/?page=1&search={{@root.search}}">&lt;&lt;</a> {{!-- 처음 페이지 --}}

        {{#if hasPrev}} {{!-- 이전 페이지 --}}
        <a href="/index/?page={{prevPage}}&search={{@root.search}}">&lt;</a>
        {{else}}
        <a>&lt;</a>
        {{/if}}

        {{#each pageList}} {{!-- 각 페이지 --}}
        {{#if (eq . @root.paginator.page)}}
        <a>{{.}}</a>
        {{else}}
        <a href="/index/?page={{.}}&search={{@root.search}}">{{.}}</a>
        {{/if}}
        {{/each}}

        {{#if hasNext}} {{!-- 이후 페이지 --}}
        <a href="/index/?page={{nextPage}}&search={{@root.search}}">&gt;</a>
        {{else}}
        <a>&gt;</a>
        {{/if}}

        <a href="/index/?page={{lastPage}}&search={{@root.search}}">&gt;&gt;</a> {{!-- 마지막 페이지 --}}
        {{/with}}
    </div>

</div>

<script>
    function showCreateBar() {
        document.getElementById("createBar").style="";
    }
</script>